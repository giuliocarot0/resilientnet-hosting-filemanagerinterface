
const express = require('express')
const { createClient, AuthType } = require("webdav");
const app = express()
const port = 3000


app.use(express.static('public'));


app.get('/', (req, res) => {
    const client = createClient("http://dav.bee.resilientnet.com/",{
        //authType: AuthType.Digest,
        username:"gcarota",
        password:"bee"
    })

    const directoryItems =  client.getDirectoryContents("/");
    directoryItems
        .then(e => res.send(e))
        .catch(e => res.send("Oh no! "+ e));
})

app.put('/createDirecory', (req, res)=> {
  if(!req.body.dir_name)
    res.send("Bad Request").status(400);
  const dirName = req.body.dir_name;
  
})


app.listen(port, () => {
  console.log(`Example app listening at http://localhost:${port}`)
})

